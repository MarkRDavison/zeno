language: cpp
dist: bionic
os: linux
env: CMAKE_BUILD_TYPE=Debug

jobs:
    include:
        -   os: windows
            env: CMAKE_BUILD_TYPE=Debug

        -   os: windows
            env: CMAKE_BUILD_TYPE=Release
  
#    - os: linux
#      dist: bionic
#      addons:
#          apt:
#              sources:
#                - ubuntu-toolchain-r-test
#              packages:
#                - g++-7
#
#    - os: linux
#      dist: bionic
#      addons:
#          apt:
#              sources:
#                - ubuntu-toolchain-r-test
#                - llvm-toolchain-bionic-7
#              packages:
#                - clang-7
#
#    - os: osx
#      osx_image: xcode10
#      compiler: clang
#      env: 
#        - COMPILER=clang++
#        - CPP17=1




install:
    -   git submodule update --init --recursive
    -   cmake --version
    -   $CXX --version

script:
    -   mkdir build
    -   cd build
       
    -   echo "Generating Build Files"
    -   echo cmake ..
    -   cmake ..
    
    -   echo "Building Project"
    -   echo cmake --build .
    -   cmake --build .
    
    -   echo "Running Tests"
    -   echo ctest --build-config $BUILD_TYPE --no-label-summary --no-subproject-summary --output-on-failure
    -   ctest --build-config $BUILD_TYPE --no-label-summary --no-subproject-summary --output-on-failure

    -   ls test
    -   ls test/Debug
    -   ls test/Release
    -   ls examples
    -   ls examples/Debug
    -   ls examples/Release